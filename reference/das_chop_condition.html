<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Chop DAS data into a new effort segment every time a specified condition changes"><title>Chop DAS data - condition — das_chop_condition • swfscDAS</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Chop DAS data - condition — das_chop_condition"><meta property="og:description" content="Chop DAS data into a new effort segment every time a specified condition changes"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">swfscDAS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/swfscDAS.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/DAS_data_join.html">Joining DAS outputs with external data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/smwoodman/swfscDAS/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Chop DAS data - condition</h1>
      <small class="dont-index">Source: <a href="https://github.com/smwoodman/swfscDAS/blob/HEAD/R/das_chop_condition.R" class="external-link"><code>R/das_chop_condition.R</code></a></small>
      <div class="d-none name"><code>das_chop_condition.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Chop DAS data into a new effort segment every time a specified condition changes</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">das_chop_condition</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for data.frame</span></span>
<span><span class="fu">das_chop_condition</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for das_df</span></span>
<span><span class="fu">das_chop_condition</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">conditions</span>,</span>
<span>  seg.min.km <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  distance.method <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  num.cores <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>an object of class <code>das_df</code>,
or a data frame that can be coerced to class <code>das_df</code>.
This data must be filtered for continuous effort sections;
see the Details section below</p></dd>


<dt>...</dt>
<dd><p>ignored</p></dd>


<dt>conditions</dt>
<dd><p>the conditions that trigger a new segment;
see <code><a href="das_effort.html">das_effort</a></code></p></dd>


<dt>seg.min.km</dt>
<dd><p>numeric; minimum allowable segment length (in kilometers).
Default is 0.1. See the Details section below for more information</p></dd>


<dt>distance.method</dt>
<dd><p>character; see <code><a href="das_effort.html">das_effort</a></code>.
Default is <code>NULL</code> since these distances should have already been calculated</p></dd>


<dt>num.cores</dt>
<dd><p>see <code><a href="das_effort.html">das_effort</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>List of two data frames:</p><ul><li><p><code>x</code>, with columns added for the corresponding unique segment code and number</p></li>
<li><p>segdata: data frame with one row for each segment, and columns with
    relevant data (see <code><a href="das_effort.html">das_effort</a></code> for specifics)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>WARNING - do not call this function directly!
  It is exported for documentation purposes, but is intended for internal package use only.</p>
<p>This function is intended to be called by <code><a href="das_effort.html">das_effort</a></code>
  when the "condition" method is specified.
  Thus, <code>x</code> must be filtered for events (rows) where either
  the 'OnEffort' column is <code>TRUE</code> or the 'Event' column is "E";
  see <code><a href="das_effort.html">das_effort</a></code> for more details.
  This function chops each continuous effort section (henceforth 'effort sections')
  in <code>x</code> into modeling segments (henceforth 'segments') by
  creating a new segment every time a specified condition changes.
  Each effort section runs from an "R" event to its corresponding "E" event.
  After chopping, <code><a href="das_segdata.html">das_segdata</a></code> is called
  (with <code>segdata.method = "maxdist"</code>)
  to get relevant segdata information for each segment.</p>
<p>Changes in the one of the conditions specified in the <code>conditions</code>
  argument triggers a new segment.
  One exception is if the event at which this condition change occurs is part of an event series,
  meaning one of several events in a row at the same lat/lon points (such as a PVNW event series).
  In this situation, the final event of the event series is considered the last event
  of the current effort segment, and thus also the start of the next effort segment.</p>
<p>Related, when multiple condition changes happen at the same lat/lon points,
  such as a "RPVNW" series of events at the beginning of the effort section.
  When this happens, no segments of length zero are created;
  rather, a single segment is created that includes all of the condition changes
  (i.e. all of the events in the event series) that happened during
  the series of events (i.e. at the same location).
  Note that this combining of events at the same position happens
  even if <code>seg.min.km = 0</code>.</p>
<p>In addition, (almost) all segments whose length is less than <code>seg.min.km</code>
  are combined with the segment immediately following them to ensure that the length
  of (almost) all segments is at least <code>seg.min.km</code>.
  This allows users to account for situations where multiple conditions,
  such as Beaufort and the visibility, change in rapid succession, for instance &lt;0.1 km apart.
  When segments are combined, a message is printed, and the condition that was
  recorded for the maximum distance within the new segment is reported.
  See <code><a href="das_segdata.html">das_segdata</a></code>, <code>segdata.method = "maxdist"</code>, for more details
  about how the segdata information is determined.
  The only exception to this rule is if the short segment ends in an "E" event,
  meaning it is the last segment of the effort section.
  Since in this case there is no 'next' segment,
  this short segment is left as-is.</p>
<p>If the column <code>dist_from_prev</code> does not exist, the distance between
  subsequent events is calculated as described in <code><a href="das_effort.html">das_effort</a></code></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Sam Woodman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

